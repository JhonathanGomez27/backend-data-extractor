### Variables
@API_URL = http://localhost:3000
@TOKEN = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJlMjRhYTZkMy0zYTUyLTRmZDktOGI3Yi02NDdkYzM3MWQ5NTgiLCJlbWFpbCI6ImFkbWluQGV4YW1wbGUuY29tIiwicm9sZSI6IkFETUlOIiwiaWF0IjoxNzYyODkzOTQwLCJleHAiOjE3NjI4OTc1NDB9.WnS8s1lKuc9ICJDWbn7nlOYdzxB5QnodWH8L-IGN3Jg
@CLIENT_ID = 17e38111-0fb1-4236-806a-666a53bee2ab
@MODEL_TYPE_ID = e3ebad38-cb97-4bf3-83e0-ccc229e599d1
@MODEL_ID = your_model_id_here

# Basic Auth credentials (username:password in base64)
@BASIC_AUTH = Basic base64_encoded_username:password


##################################################
### ADMIN ENDPOINTS (JWT Authentication)
##################################################

### 1. Create Model (Admin)
POST {{API_URL}}/api/models
Content-Type: application/json
Authorization: Bearer {{TOKEN}}

{
  "name": "Menciona la marca al contestar",
  "description": "Detectar si se menciona la marca del producto o servicio en la conversaci√≥n.",
  "modelTypeId": "{{MODEL_TYPE_ID}}",
  "clientId": "{{CLIENT_ID}}",
  "data": {
    "template": {
      "templateName": "deteccion_marca_producto_servicio",
      "modules": [
        {
          "key": "entidades",
          "enabled": true,
          "config": {
            "extraer": true,
            "tipos": [
              "marca"
            ],
            "reglas": {
              "debe_mencionarse": true,
              "ventana_inicial_segundos": 0,
              "coincidencia": {
                "modo": "parcial",
                "case_sensitive": false
              },
              "sinonimos": []
            }
          }
        }
      ]
    }
  } 
}


### 2. List All Models (Admin)
GET {{API_URL}}/api/models?page=1&limit=20
Authorization: Bearer {{TOKEN}}


### 3. List Models filtered by Client ID (Admin)
GET {{API_URL}}/api/models/admin/models?clientId={{CLIENT_ID}}
Authorization: Bearer {{TOKEN}}


##################################################
### CLIENT ENDPOINTS (Basic Authentication)
##################################################

### 4. List Models for Client (Basic Auth)
GET {{API_URL}}/api/models/client/models
Authorization: {{BASIC_AUTH}}


### 5. List Models filtered by Model Type (Client)
GET {{API_URL}}/api/models/client/models?modelTypeId={{MODEL_TYPE_ID}}
Authorization: {{BASIC_AUTH}}


### 6. List Models with Search (Client)
GET {{API_URL}}/api/models/client/models?search=prueba
Authorization: {{BASIC_AUTH}}


### 7. List Models with Pagination (Client)
GET {{API_URL}}/api/models/client/models?limit=10&offset=0
Authorization: {{BASIC_AUTH}}


### 8. List Models with Sorting (Client)
# Options: createdAt:desc, createdAt:asc, name:asc, name:desc
GET {{API_URL}}/api/models/client/models?sort=name:asc
Authorization: {{BASIC_AUTH}}


### 9. List Models with Specific Fields (Client)
GET {{API_URL}}/api/models/client/models?fields=id,name,modelTypeId
Authorization: {{BASIC_AUTH}}


### 10. List Models with All Filters (Client)
GET {{API_URL}}/api/models/client/models?modelTypeId={{MODEL_TYPE_ID}}&search=test&limit=20&offset=0&sort=createdAt:desc&fields=id,name,data
Authorization: {{BASIC_AUTH}}


### 11. Get Model by ID (Client)
GET {{API_URL}}/api/models/client/models/{{MODEL_ID}}
Authorization: {{BASIC_AUTH}}


##################################################
### EXAMPLES WITH REAL VALUES
##################################################

### Example: Create Model with real IDs
POST {{API_URL}}/api/models/admin/models
Content-Type: application/json
Authorization: Bearer {{TOKEN}}

{
  "name": "iPhone 15 Pro",
  "modelTypeId": "123e4567-e89b-12d3-a456-426614174000",
  "clientId": "987fcdeb-51a2-43f7-8765-123456789abc",
  "data": {
    "color": "Titanium Blue",
    "storage": "256GB",
    "processor": "A17 Pro"
  }
}


### Example: Get Models with Basic Auth (replace with actual credentials)
# To generate Basic Auth: echo -n "username:password" | base64
GET {{API_URL}}/api/models/client/models
Authorization: Basic dGVzdGNsaWVudDpwYXNzd29yZDEyMw==
